UTest({
	async 'import template' () {
		TestHelper.registerFiles({
			'Button.mask': `
				define Button {
					button .btn > '~this.attr.text'
				}
			`
		});
		var template = `
			import Button from 'Button.mask';
			Button text='Hello';
		`;
		
		var html = await mask.renderAsync(template);

		await UTest
			.domtest
			.use('cheerio')
			.process(html, `
				find ('button') {
					hasClass ('btn');
					text ('Hello');
				}
			`);
	},

	async 'import service' () {
		TestHelper.registerScripts({
			'services/SettingsService.js': {
				get () {
					return 'Foo'
				}
			}
		});
		var template = `
			import SettingsService from services is server;
			h4 > '~[SettingsService.get()]'
		`;

		var html = await mask.renderAsync(template);

		has_(html, 'is server');
		console.log(html);
		await UTest
			.domtest
			.use('cheerio')
			.process(html, `
				find ('h4') {
					text ('Foo');
				}
			`);
	}
})